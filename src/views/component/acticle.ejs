<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>บทความแนะนำ</title>
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Ani-night.online">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="twitter:description" content="เว็บที่ให้คุณเขียนบทความข่าวสารด้านอนิเมะ และรับรายได้จากค่าโฆษณา">
    <meta name="google-site-verification" content="eyTwMkNmyYZFyV7ag9MuAEh5uOPdc4uZ6ONSM3w5HRI">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6579807593228261"
        crossorigin="anonymous"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LTJP520FN4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-LTJP520FN4');
    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
</head>
<style>
    .slider-wrapper {
        overflow: hidden;
        position: relative;
        height: 100vh; /* Fullscreen height */
    }

    .slider {
        display: flex;
        transition: transform 0.3s ease-in-out;
        height: 100%;
    }

    .slide {
        flex: 0 0 100%;
        box-sizing: border-box;
        background-size: cover;
        background-position: center;
        height: 100%;
        display: flex;
        align-items: center;
    }

    .slide-content {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
        padding: 20px;
        position: absolute;
        bottom: 10px;
        width: 100%;
    }

    .nav-button {
        background: rgba(0, 0, 0, 0.5);
        border-radius: 50%;
        padding: 10px;
        color: white;
        font-size: 24px;
    }
    .navbar-toggler {
            display: none;
        }

        @media (max-width: 640px) {
            .navbar-toggler {
                display: inline-block;
            }

            .navbar-menu {
                display: none;
                flex-direction: column;
            }

            .navbar-menu.active {
                display: flex;
            }
        }
        ::-webkit-scrollbar {
      width: 6px;
    }
    .activemenu{
        border-bottom: 3px solid #000;
        color: #000;
        font-weight: bold;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
</style>
<body class="bg-gray-100">
    <div class="slider-wrapper relative">
        <div class="slider">
            <% topViewedArticles.forEach((article, index) => { %>
            <div class="slide" style="background-image: url('/acticles_images/<%= article.photo %>')">
                <div class="slide-content">
                    <h3 class="text-lg font-semibold"><%= article.title %></h3>
                    <p class="mt-2 text-gray-600"><%= article.excerpt %></p>
                    <p><a href="/read/<%= article.url %>?lang=<%= language %>" class="text-blue-500">อ่าน</a></p>
                </div>
            </div>
            <% }) %>
            <!-- Add more slides as needed -->
        </div>
        <button id="prev" class="absolute left-4 top-1/2 transform -translate-y-1/2 nav-button">❮</button>
        <button id="next" class="absolute right-4 top-1/2 transform -translate-y-1/2 nav-button">❯</button>
    </div>

    <nav class="bg-white shadow-lg sticky top-0 w-full z-10">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between">
                <div class="flex space-x-4">
                    <!-- Logo -->
                    <div>
                        <a href="/" class="flex items-center py-5 px-2 text-gray-700 hover:text-gray-900">
                            <span class="font-bold">ANINIGHT</span>
                        </a>
                    </div>

                    <!-- Primary Navbar items -->
                    <div class="hidden md:flex items-center space-x-1">
                        <a href="/" class="py-5 px-3 text-gray-700 hover:text-gray-900">หน้าแรก</a>
                        <a href="/animeboard" class="py-5 px-3 text-gray-700 hover:text-gray-900">บอร์ดอนิเมะ</a>
                      <% if (usersesstion) {%>
                        <a href="/upload_acticle?tokenlogin=<%= usersesstion.accessToken %>" class="py-5 px-3 text-gray-700 hover:text-gray-900">เขียน</a>
                    <% } %>
                        <a href="/articles" class="py-5 px-3 text-gray-700 hover:text-gray-900">บทความ</a>
                    </div>
                </div>

                <!-- Mobile button goes here -->
                <div class="md:hidden flex items-center">
                    <button class="navbar-toggler mobile-menu-button">
                        <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- mobile menu -->
        <div class="navbar-menu md:hidden">
            <a href="/" class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-200">หน้าแรก</a>
            <a href="/animeboard" class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-200">บอร์ดอนิเมะ</a>
            <% if (usersesstion) {%>
                <a href="/upload_acticle?tokenlogin=<%= usersesstion.accessToken %>" class="py-5 px-3 text-gray-700 hover:text-gray-900">เขียน</a>
            <% } %>
            <a href="articles" class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-200">บทความ</a>
        </div>
    </nav>

    <div class=" px-6 md:px-12 py-8 md:py-12 mt-8 shadow-sm relative" id="lastest">
        <p class="text-3xl mb-6 border-l-4 border-sky-600 px-5 text-gray-600">บทความมาใหม่</p>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Blog Post 1 -->
            <% acticles.forEach((article)=> { %>
            <div class="bg-white shadow-lg rounded-lg overflow-hidden">
                <a href="/read/<%= article.url %>?lang=<%= language %>">
                    <img class="w-full h-48 object-cover" src="/acticles_images/<%= article.photo %>" alt="Post Image">
                    <div class="p-6">
                        <h2 class="text-2xl font-bold mb-2 text-gray-800"><%= article.title %></h2>
                        <% if (article.author && article.author.id) { %>
                        <div class="flex items-center">
                            <img class="w-10 h-10 rounded-full mr-4" src="/profiles/<%= article.author.id.profile %>"
                                alt="Author Image">
                            <div class="text-sm">
                                <p class="text-gray-900 leading-none"><a href="/editor/<%= article.author.id.username %>"><%= article.author.id.username %></a></p>
                                <p class="text-gray-600"><%= moment(article.createdAt).format('YYYY-MM-DD HH:mm:ss') %></p>
                            </div>
                        </div>
                        <% } else { %>
                         <p>Author: Unknown</p>
                     <% } %>
                    </div>
                </a>
            </div>
            <% }) %>
            <!-- More blog posts can be added here in the same format -->
        </div>
    </div>
    <nav aria-label="Page navigation example" style="display: flex; justify-content: center;" class="mb-5">
        <ul class="flex items-center -space-x-px h-10 text-base">
            <% if (prevPage) { %>
                <li>
                    <a href="/articles?page=<%= prevPage %>"
                        class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                        <span class="sr-only">Previous</span>
                        <svg class="w-3 h-3 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                            fill="none" viewBox="0 0 6 10">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2" d="M5 1 1 5l4 4" />
                        </svg>
                    </a>
                </li>
                <% } %>

                    <% for (let i=1; i <=lastPage; i++) { %>
                        <li>
                            <a href="/articles?page=<%= i %>"
                                class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                                <%= i %>
                            </a>
                        </li>
                        <% } %>

                            <% if (nextPage) { %>
                                <li>
                                    <a href="/articles?page=<%= nextPage %>"
                                        class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                                        <span class="sr-only">Next</span>
                                        <svg class="w-3 h-3 rtl:rotate-180" aria-hidden="true"
                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                                            <path stroke="currentColor" stroke-linecap="round"
                                                stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
                                        </svg>
                                    </a>
                                </li>
                                <% } %>
        </ul>
    </nav>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 <script>
    // JavaScript for toggle menu
    document.addEventListener('DOMContentLoaded', function() {
        const btn = document.querySelector('.mobile-menu-button');
        const menu = document.querySelector('.navbar-menu');

        btn.addEventListener('click', function() {
            menu.classList.toggle('active');
        });
    });
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        let currentIndex = 0;

        function showSlide(index) {
            const slideWidth = $('.slider-wrapper').width();
            const newTransform = -slideWidth * index;
            $('.slider').css('transform', `translateX(${newTransform}px)`);
        }

        $('#next').click(function() {
            const totalSlides = $('.slide').length;
            currentIndex = (currentIndex + 1) % totalSlides;
            showSlide(currentIndex);
        });

        $('#prev').click(function() {
            const totalSlides = $('.slide').length;
            currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
            showSlide(currentIndex);
        });

        // Recalculate slide width on window resize
        $(window).resize(function() {
            showSlide(currentIndex);
        });
    });
</script>
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/js/search.js"></script>
    <script src="/js/pages/article.js" defer></script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Ep</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/df26bd9708.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="flex justify-between">
        <%- include('../../../../admin/sidebars/navbar') %>
        <div class="main-section w-full min-h-screen">
            <div class="p-4">
                <div class="bg-white p-8 rounded-lg shadow-md">
                    <h3>ชื่อเรื่อง: <%= Comiclist.titlecomic %></h3>
                    <h2 class="text-2xl font-bold mb-4">อัพโหลดไฟล์คอมมิค</h2>
                    <form action="/admin/comic/uploads/ep" method="POST" enctype="multipart/form-data">
                        <div class="mb-4">
                            <input type="text" name="comicID" id="comicID" readonly value="<%= Comiclist._id %>" class="w-full p-2 border border-gray-300 rounded">
                        </div>
                        <div class="mb-4">
                            <label for="comicFile" class="block text-gray-700 font-bold mb-2">กรุณาใส่จำนวนตอนเป็นตัวเลข (ตัวอย่าง: 1):</label>
                            <input type="number" name="ep" id="ep" class="w-full p-2 border border-gray-300 rounded">
                        </div>
                        <div class="mb-4">
                            <label for="comicFile" class="block text-gray-700 font-bold mb-2">เลือกไฟล์คอมมิค:</label>
                            <input type="file" id="comicFile" name="comicFile" required class="w-full p-2 border border-gray-300 rounded" multiple>
                            <!-- เพิ่มแอตทริบิวต์ multiple เพื่อให้ผู้ใช้เลือกหลายไฟล์ -->
                        </div>
                        <div id="fileList" class="mb-4"></div>
                        <!-- สร้างองค์ประกอบเพื่อแสดงรายการไฟล์ที่เลือก -->
                        <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">อัพโหลด</button>
                    </form>
                </div>
            </div>
        </div>
    
        <script>
            const fileInput = document.getElementById('comicFile');
            const fileList = document.getElementById('fileList');
    
            fileInput.addEventListener('change', function() {
                fileList.innerHTML = ''; // เคลียร์รายการไฟล์ที่แสดงออกมาก่อนหน้านี้
                
                for (let i = 0; i < this.files.length; i++) {
                    const file = this.files[i];
                    const listItem = document.createElement('div');
                    listItem.textContent = file.name;
                    fileList.appendChild(listItem); // เพิ่มรายการไฟล์ลงในรายการ
                }
            });
        </script>
</body>
</html>
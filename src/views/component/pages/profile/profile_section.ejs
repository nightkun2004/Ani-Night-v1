<!-- Profile Info -->
<div class="max-w-6xl mx-auto mt-5 bg-white rounded-lg shadow">
    <div class="bg-white shadow-md rounded-lg p-6">
        <% if (userData.bannerImagePath) {%>
            <div class="banner relative w-full h-40 sm:h-64">
                <img style="user-select: none;" src="/banner/<%= userData.bannerImagePath %>" alt="<%= userData.name %>" class="w-full rounded-lg h-full object-cover">
            </div>
        <% } %>
        <div class="flex flex-col md:flex-row md:justify-between md:items-center px-6 py-4 border-b">
            <div class="flex flex-col md:flex-row text-center md:text-left">
                <% if (userData.profile) { %>
                    
                    <div class="flex justify-center mr-4">
                        <a href="/profiles/<%= userData.profile %>" target="_blank" rel="noopener noreferrer">
                            <img src="/profiles/<%= userData.profile %>" alt="Profile Picture"
                                class="h-16 w-16 rounded-full object-cover">
                        </a>
                    </div>
                    <div class="gap-3" style="font-family: 'Kanit', sans-serif;">
                        <h2 class="text-xl mb-2 font-bold text-gray-800">
                            <%= userData.name %> 
                        </h2>
                        <p class="text-gray-600 mb-2">@<%= userData.username %>
                        </p>
                        <p class="mb-2"><strong>บทบาท:</strong> <%= userData.role === "user" ? "ผู้ใช้" : userData.role === "content_creator" ? "ครีเอเตอร์" : userData.role === "partners" ? "เป็นครีเอเตอร์แบบชำระเงิน" : userData.role %></p>
                        <p class="mb-2"><strong>ไอดีผู้ใช้:</strong> <%= usersesstion.userid %>
                        </p>
                        <p class="mb-2"><strong>อีเมล:</strong> <%= userData.email %></p>
                        <p class="mb-2"><strong>วันที่เข้าร่วม:</strong> <%= new Date(userData.createdAt).toLocaleDateString() %></p>
                        <h2><strong>ดูหน้าเว็บอัพเดตใหม่:</strong> <a target="_blank" href="/editor/<%= usersesstion.username %>">คลิกที่นี่</a></h2>
                    </div>
                    <% } %>
            </div>
            <div class="relative inline-block text-left">
                <button id="menu-button" class="text-black px-4 py-2 rounded-md">
                    <i class="fa-solid fa-ellipsis-vertical text-2xl"></i>
                </button>
                <div id="menu-content" class="absolute md:top-0 md:right-0 mt-2 w-48 bg-white border border-gray-300 rounded-md shadow-lg hidden">
                    <a href="/studio/<%= usersesstion._id %>/monetization/overview" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">แดชบอร์ด</a>
                    <a href="/add/banner" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">เพิ่มแบนเนอร์</a>
                    <a href="/<%= usersesstion.url %>/dashboard" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">แก้ไขเนื้อหา</a>
                    <a href="/profile/edit/profile/user" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">แก้ไขโปรไฟล์</a>
                    <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">ออกจากระบบ</a>
                </div>
            </div>
        </div> 
        <div class="px-6 py-4">
            <p class="text-gray-700"  style="font-family: 'Kanit', sans-serif;">
                <%= usersesstion.bio %>.
            </p>
        </div>
    </div>
    
</div>

<!-- PoPup -->

  <div id="popup-m" class="fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-900 hidden bg-opacity-50 z-50">
    <div class="bg-white rounded-lg overflow-hidden max-w-md w-full">
        <!-- Header -->
        <div class="bg-gray-100 py-3 px-4 flex items-center justify-between">
            <div class="flex flex-col">
                <h2 class="text-lg font-bold text-gray-800">ขอต้อนรับสู่ครีเอเตอร์</h2>
                <p>สร้างรายได้ด้วยโฆษณาบนเว็บในบทความของคุณ</p>
            </div>
            <button id="closebtn_main" class="text-gray-600 hover:text-gray-800 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        <!-- Content -->
        <div class="flex flex-col justify-center p-4 overflow-auto h-[300px]">
            <img src="/images/coin-ss.svg" alt="coin-ss.svg" class="h-20 mt-5">
            <h3 class="font-bold text-center">เริ่มต้นสร้างรายได้ ด้วยเนื้อหาของคุณจากยอดวิวและโฆษณา</h3>
            <strong class="text-sm text-center">เราต้องการคุณมาสร้างสรรค์ผลงานข่าวสารอัตเดตอนิเมะญี่ปุ่น <br> มาเริ่มสร้างผลงานกันเลย</strong>
            <p class="text-center text-sm">อ่านข้อกำหนดได้ที่นี่ : <a href="#">ข้อกำหนด</a></p>
        </div>
        <!-- Footer -->
        <div class="bg-gray-100 py-3 px-4 flex justify-center">
            <button class="bg-sky-500 hover:bg-sky-600 text-white px-4 py-2 rounded-full focus:outline-none"><a target="_blank" href="/studio/<%= usersesstion._id %>/monetization/overview">เริ่มต้นสร้างรายได้</a></button>
            <button class="cancelButton bg-gray-200 text-gray-700 hover:text-gray-800 px-4 py-2 rounded-full ml-2 focus:outline-none">ไม่อ่าขอบคุณนะ</button>
        </div>
    </div>
</div>
<script>
    document.getElementById('closebtn_main').addEventListener('click', function() {
        document.getElementById('popup').style.display = 'none';
    });
    document.querySelector('.cancelButton').addEventListener('click', function() {
        document.getElementById('popup').style.display = 'none';
    });
</script>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
    ::-webkit-scrollbar {
      width: 12px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 6px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
  </style>
   <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
  <script>
     function logout(event) {
        event.preventDefault();
        Swal.fire({
            title: 'คุณแน่ใจหรือไม่?',
            text: "คุณต้องการออกจากระบบหรือไม่?",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'ใช่, ออกจากระบบ!',
            cancelButtonText: 'ยกเลิก'
        }).then((result) => {
            if (result.isConfirmed) {
                document.getElementById('logoutForm').submit();
            }
        });
    }
  </script>
 <script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuButton = document.getElementById('menu-button');
        const menuContent = document.getElementById('menu-content');
        
        menuButton.addEventListener('click', () => {
            menuContent.classList.toggle('hidden');
        });

        // Close the menu if clicked outside
        document.addEventListener('click', (event) => {
            if (!menuButton.contains(event.target) && !menuContent.contains(event.target)) {
                menuContent.classList.add('hidden');
            }
        });
    });
</script>
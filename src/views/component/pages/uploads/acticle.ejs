<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>อัพโหลดเนื้อหาของคุณ</title>
    <link rel="stylesheet" href="../../css/acticle.css">
    <link rel="stylesheet" href="../../css/pages/acticle.css">
    <link rel="stylesheet" href="../../css/font/font1.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css">
    <meta name="keywords" content="บทความอนิเมะ ข่าวบันเท้ง 2024 login เข้าสู่ระบบ">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/df26bd9708.js" crossorigin="anonymous"></script>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
</head>

<body>
    <div class="fixed inset-x-0 z-20" id="navbar">
        <%- include('../../../navbar') %> 
    </div>
    <section class="upload-article mx-auto px-4 xl:max-w-7xl pt-[110px]" id="upload-article">
        <div class="bg-white px-6 md:px-12 py-8 md:py-12 mt-8 shadow-sm">
            <form class="max-w-sm mx-auto" action="/upload_acticle" method="POST" enctype="multipart/form-data">
                <input type="hidden" name="iduser" value="<%= usersesstion._id %>">
                <div class="mb-5">
                    <label for="name_act"
                        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">ชื่อบทความ</label>
                    <input type="name" id="name" name="name" value=""
                        class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"
                        required>
                </div>
                <div class="mb-5">
                    <label for="tages"
                        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">ใสแท็กเนื้อหาของคุณ</label>
                    <input type="text" id="tages" name="tages"
                        class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light">
                    <span>ใส่ได้มากสุด 10 แท็ก</span>
                </div>
                <div class="mb-5">
                    <label for="">เขียนเนื้อหาบทความของคุณที่นี่!!</label>
                    <!-- <div id="editor-container" style="width: 100%; height: 500px;"></div> -->
                    <textarea id="content" class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"
                     name="content" style="height: 300px;"></textarea>
                    <input type="hidden" id="username" name="username" value="<%= usersesstion.username %>" readonly> 
                </div>
                <div class="mb-5">
                    <label for="name_act"
                        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">เพิ่มลิ้งตัวอย่าง</label>
                    <input type="text"  class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-sky-50 dark:shadow-sm-light"
                     name="link_info" placeholder="ใส่หรือไม่ใส่ก็ได้">
                     <p>Tip: คุณสามารถแก้ไขได้ภายหลัง </p>
                     <p>Tip: หากใส่จะทำการลิ้งไปที่หน้ารายละเอียนวีดีโอ </p>
                </div>
                <div class="mb-5">
                    <label for="countries"
                        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">เลือกหมวดหมู่;</label>
                    <select id="countries" name="categories"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                        <option selected>กดเพื่อเลือก</option>
                        <option value="ข่าวอนิเมะ">ข่าวอนิเมะ</option>
                        <option value="ข่าวสาร">ข่าวสาร</option>
                        <option value="ข่าวหนัง">ข่าวหนัง</option>
                        <option value="สื่อบันเทิง">สื่อบันเทิง</option>
                        <option value="วาไรตี">วาไรตี</option>
                        <option value="ภาพยนต์">ภาพยนต์</option>
                        <option value="เกม">เกม</option>
                    </select>

                </div>
                <div class="mb-5">
                    <label for="repeat-password"
                        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">เพิ่มภาพปกของคุณ</label>

                    <div class="flex items-center justify-center w-full">
                        <label for="dropzone-file"
                            class="flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600">
                            <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                <svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400" aria-hidden="true"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2" />
                                </svg>
                                <p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span
                                        class="font-semibold">คลิกเพื่ออัพโหลดภาพปก</span>.</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400">รองรับไฟล์ SVG, PNG, JPG GIF
                                    (สูงสุดได้แค่.
                                    1200x720px)</p>
                            </div>
                            <input id="dropzone-file" type="file" name="upload_picActicle" class="hidden"
                                onchange="previewImage(this)" />
                        </label>
                    </div>
                    <div class="mb-5">
                        <img id="preview" class="w-100" src="" alt="">
                    </div>

                </div>
                <button type="submit"
                    class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                    ส่งบทความ</button>
            </form>
        </div>
    </section>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <!-- <script>
        var quill = new Quill('#editor-container', {
            theme: 'snow',
            modules: {
                toolbar: [
                    ['bold', 'italic', 'underline', 'strike'],
                    ['link', 'video'],
                    [{ 'color': [] }],
                    [{ 'list': 'ordered' }, { 'list': 'bullet' }],
                    [{ 'indent': '-1' }, { 'indent': '+1' }],
                    ['align', 'script', 'code-block'],
                    [{ 'header': [1, 2, 3, 4, 5, 6] }],
                    ['clean']
                ]
            },
            formats: [
                'bold', 'italic', 'header', 'underline', 'strike', 'link', 'color', 'list', 'bullet', 'indent',
                'video', 'align', 'script', 'code-block'
            ]
        });

        var contentInput = document.getElementById('content');

        var observer = new MutationObserver(function () {
            contentInput.value = quill.root.innerHTML;
        });

        observer.observe(quill.root, {
            childList: true,
            subtree: true
        });

        quill.getModule('toolbar').addHandler('video', function () {
            var url = prompt('Enter the URL of the video:');
            if (url) {
                insertVideo(url);
            }
        });

        function insertVideo(url) {
            var range = quill.getSelection();
            quill.insertEmbed(range.index, 'video', url, Quill.sources.USER);
        }

    </script> -->
    <script>
        function previewImage(input) {
            var preview = document.getElementById('preview');
            var file = input.files[0];
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
                preview.style.display = 'block';
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
                preview.style.display = 'none';
            }
        }
    </script>
    <script>
        window.addEventListener('scroll', function () {
            var navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('navbar-white-bg');
            } else {
                navbar.classList.remove('navbar-white-bg');
            }
        });

    </script>
</body>

</html>
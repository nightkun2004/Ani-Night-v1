<nav class="bg-white border-b border-gray-200 shadow-sm fixed w-full z-10">
    <div class="container mx-auto px-4 flex justify-between items-center h-16">
        <!-- Logo -->
        <a href="/" class="flex items-center space-x-2">
            <img src="/images/logo/Aninight.png" alt="Logo" class="h-8 w-8">
            <span class="text-lg font-semibold text-gray-700">ANINIGHT</span>
        </a>

        <!-- Menu Toggle Button for Mobile -->
        <button id="menu-button" class="md:hidden p-2 focus:outline-none">
            <!-- SVG ‡πÅ‡∏Æ‡∏°‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏≠‡∏£‡πå -->
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>
        <!-- Nav Links and Icons -->
        <div class="hidden md:flex items-center space-x-4">
            <a href="/" class="text-gray-700 hover:text-blue-500">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
            <a href="/search" class="block text-gray-700 hover:text-blue-500">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</a>
            <a href="/animeboard" class="block text-gray-700 hover:text-blue-500">‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏∞</a>
            <a href="/trending" class="block text-gray-700 hover:text-blue-500">‡∏°‡∏≤‡πÅ‡∏£‡∏á</a>
            <a href="/forums" class="block text-gray-700 hover:text-blue-500">‡∏ü‡∏≠‡∏£‡∏±‡∏°</a>
            <a href="/categories" class="block text-gray-700 hover:text-blue-500">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</a>
            <a href="/articles" class="block text-gray-700 hover:text-blue-500">‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°</a>
            <% if (!usersesstion) { %>
                <a href="/login" class="block text-gray-700 hover:text-blue-500">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
                <% } %>
                    <% if (usersesstion) { %>
                        <a href="/upload_acticle"
                            class="block text-gray-700 hover:text-blue-500">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô</a>
                        <% } %>

                            <!-- Icons -->
                            <!-- <div class="flex items-center space-x-4">
                <a href="#" class="text-gray-700 hover:text-blue-500">Icon1</a>
                <a href="#" class="text-gray-700 hover:text-blue-500">Icon2</a>
                <a href="#" class="text-gray-700 hover:text-blue-500">Icon3</a>
            </div> -->

                            <!-- Profile Dropdown -->
                            <div class="relative group">
                                <button class="focus:outline-none">
                                    <% if (usersesstion) { %>
                                        <a href="/<%= usersesstion.url %>">
                                            <img class="w-9 h-9 rounded-full border-2 border-gray-300 cursor-pointer"
                                                src="/profiles/<%= usersesstion.profile %>" alt="User Avatar">
                                        </a>
                                        <% } %>
                                </button>
                                <% if (usersesstion) { %>
                                    <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏Å‡∏≤‡∏£‡πå‡∏î -->
                                    <div
                                        class="absolute right-1 transform hidden group-hover:block w-64 p-4 bg-white border border-gray-300 rounded-lg shadow-lg z-10">
                                        <div class="flex items-center">
                                            <img src="/profiles/<%= usersesstion.profile %>" alt="Profile Picture"
                                                class="w-12 h-12 rounded-full border-2 border-gray-300">
                                            <div class="ml-3">
                                                <h3 class="text-lg text-black font-semibold">
                                                    <%= usersesstion.name %>
                                                </h3>
                                                <p class="text-gray-500">@<%= usersesstion.username %>
                                                </p>
                                            </div>
                                        </div>
                                        <div class="mt-4">
                                            <p class="text-sm text-gray-700">
                                                <%= usersesstion.bio %>.
                                            </p>
                                        </div>
                                        <div class="mt-4">
                                            <ul class="list-none">
                                                <li class="py-1"><a
                                                        href="/<%= usersesstion.url %>"
                                                        class="block text-gray-700 rounded-lg p-2 hover:bg-gray-100">
                                                        <%= usersesstion.username %>
                                                    </a></li>
                                                <div class="relative">
                                                    <li class="py-1"><a href="#"
                                                            class="block text-gray-700 rounded-lg p-2 hover:bg-gray-100">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</a>
                                                    </li>
                                                    <span
                                                        class="absolute right-0 top-0 bg-red-500 text-white px-1 rounded-full">0</span>
                                                </div>
                                                <!-- <ul
                                                    class="absolute right-full top-40 mt-0 ml-2 hidden group-hover:block w-40 bg-white border border-gray-300 rounded-lg shadow-lg"> -->
                                                    <!-- header card -->
                                                    <!-- <div class="border-b-2 p-2">
                                                        <h3 class="text-lg font-bold text-black">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h3>
                                                    </div> -->
                                                    <!-- <li class="py-1 px-2"><a href="#" class="text-gray-700 hover:text-blue-500">Notification 1</a></li>
                                <li class="py-1 px-2"><a href="#" class="text-gray-700 hover:text-blue-500">Notification 2</a></li>
                                <li class="py-1 px-2"><a href="#" class="text-gray-700 hover:text-blue-500">Notification 3</a></li> -->
                                                <!-- </ul> -->
                                                <li class="py-1"><a href="#"
                                                        class="block text-gray-700 rounded-lg p-2 hover:bg-gray-100">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="mt-4 border-t-2 p-2 flex items-center">
                                            <h2 class="text-black">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î</h2>
                                            <div class=" mx-auto p-4">
                                                <div class="flex justify-end">
                                                    <label for="theme-toggle"
                                                        class="inline-flex items-center cursor-pointer">
                                                        <div class="relative">
                                                            <input type="checkbox" id="theme-toggle" class="sr-only">
                                                            <div class="block-dack bg-gray-100 w-14 h-8 rounded-full">
                                                            </div>
                                                            <div
                                                                class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition transform">
                                                            </div>
                                                        </div>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <% } %>
                            </div>
        </div>
                            <!-- Mobile Menu -->
                            <div id="mobile-menu" class="md:hidden absolute right-1 mt-[400px] w-full bg-white border-t border-gray-200 shadow-sm hidden">
                                <div class="px-4 flex flex-col space-y-2 mt-2 md:hidden">
                                    <a href="/"class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
                                    <a href="/search" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</a>
                                    <a href="/animeboard" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏∞</a>
                                    <a href="/trending" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡∏°‡∏≤‡πÅ‡∏£‡∏á</a>
                                    <a href="/categories" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</a>
                                    <a href="/forums" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡∏ü‡∏≠‡∏£‡∏±‡∏°</a>
                                    <a href="/articles" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°</a>
                                    <% if (!usersesstion) { %>
                                        <a href="/login" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
                                    <% } %>
                                    <% if (usersesstion) { %>
                                        <div class="border-t border-gray-200 mt-2 pt-2">
                                            <a href="/<%= usersesstion.url %>" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</a>
                                            <a href="/upload_acticle" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô</a>
                                            <a href="#" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</a>
                                            <a href="#" class="py-2 px-4 bg-white rounded-md transition duration-300 ease-in-out hover:bg-black hover:text-white">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
                                        </div>
                                    <% } %>
                                </div>
                            </div>
</nav>

<style>
    .menu-hidden {
        display: none;
    }

    .menu-visible {
        display: block;
    }

    ::-webkit-scrollbar {
        width: 6px;
    }

    .activemenu {
        border-bottom: 3px solid #000;
        color: #000;
        font-weight: bold;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    ::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #555;
    }
</style>
<script>
    document.getElementById('menu-button').addEventListener('click', function () {
        var menu = document.getElementById('mobile-menu');
        if (menu.classList.contains('menu-hidden')) {
            menu.classList.remove('menu-hidden');
            menu.classList.add('menu-visible');
        } else {
            menu.classList.remove('menu-visible');
            menu.classList.add('menu-hidden');
        }
    });
</script>


<script>
    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;

    // Load theme from localStorage
    const currentTheme = localStorage.getItem('theme') || 'light';
    if (currentTheme === 'dark') {
        body.classList.add('bg-black', 'text-white');
        body.classList.remove('bg-white', 'text-black');
        themeToggle.checked = true;
        document.querySelector('.dot').classList.add('translate-x-full', 'bg-white');
        document.querySelector('.block-dack').classList.add('bg-green-500');
    }

    themeToggle.addEventListener('change', () => {
        if (themeToggle.checked) {
            body.classList.add('bg-black', 'text-white');
            body.classList.remove('bg-white', 'text-black');
            localStorage.setItem('theme', 'dark');
            document.querySelector('.dot').classList.add('translate-x-full', 'bg-white');
            document.querySelector('.block-dack').classList.add('bg-green-500');
            document.querySelector('.block-dack').classList.remove('bg-gray-100');
        } else {
            body.classList.add('bg-gray.100', 'text-white');
            body.classList.remove('bg-black', 'text-white');
            localStorage.setItem('theme', 'light');
            document.querySelector('.dot').classList.remove('translate-x-full', 'bg-black');
            document.querySelector('.block-dack').classList.add('bg-gray-100');
            document.querySelector('.block-dack').classList.remove('bg-green-500');
        }
    });
</script>